<!DOCTYPE html>
<html lang="en">
  <body>
    <h1 class="header">Hello, Protocol</h1>
    <button onclick="fetchData()">ë°±ì—”ë“œ í†µì‹  ê²½í—˜í•˜ê¸°</button>
  </body>
  <script>
    const headerEl = document.querySelector('.header');
    const endPoint =
      'https://port-0-tetz-night-back-m5yo5gmx92cc34bc.sel4.cloudtype.app/test';
    // ì•„ëž˜ì˜ ë¶€ë¶„ì„ ì™„ì„±í•´ ì£¼ì„¸ìš”!

    async function fetchData() {
      try {
        //ì—ëŸ¬ê°€ ì˜ˆìƒë˜ëŠ” ì½”ë“œ
        //fetchë ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ -> await ì‚¬ìš©
        const response = await fetch(
          'https://port-0-tetz-night-back-m5yo5gmx92cc34bc.sel4.cloudtype.app/test'
        );
        ã…‹;

        const data = await response.json();
        console.log('ðŸš€ ~ fetchData ~ data:', data);
        headerEl.textContent = data.message;
      } catch (error) {
        console.log(error);
      }
    }

    // async function fetchData() {
    //   try {
    //     const response = await fetch(endPoint);
    //     if (!response.ok) {
    //       throw new Error('ì˜¤ë¥˜ìž„');
    //     }
    //     console.log(response);
    //     const data = await response.json();
    //     headerEl.textContent = data.message;
    //   } catch (e) {
    //     console.error('Error: ', error);
    //     headerEl.textContent = 'ì˜¤ë¥˜ë‚¨';
    //   }
    // }
  </script>
</html>
